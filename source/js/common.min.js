var equalHeight,modalPlan,nonScrollable,scrollAction,scrollable,smooth,socialCountApi,toTop,userAgentClass;userAgentClass=function(){var t,o,n,e;return o=null,n=navigator.userAgent.toLowerCase(),t=window.navigator.appVersion.toLowerCase(),n.indexOf("msie")>-1?t.indexOf("msie 8.0")>-1?o="ie8":t.indexOf("msie 9.0")>-1?o="ie9":t.indexOf("msie 10.0")>-1&&(o="ie10"):n.indexOf("Android")>0?(e=parseFloat(n.slice(n.indexOf("Android")+8)),6>=e&&(o="android2")):-1!==n.indexOf("ipad")?o="ios":-1!==n.indexOf("iphone")&&(o="ios"),o?$("body").addClass(o):void 0},userAgentClass(),scrollAction=function(t){return $("body,html").animate({scrollTop:t},500,"easeInCirc"),!1},smooth=function(){$(".smooth").on("click",function(){var t,o;return t=$(this).attr("href"),o=$("#"===t||""===t?"html":t).offset().top-50,scrollAction(o)})},smooth(),nonScrollable=function(){$(window).on("touchmove.noScroll",function(t){return t.preventDefault()})},scrollable=function(){return $(window).off(".noScroll")},toTop=function(){var t,o,n;n=!1,o=$("#totop"),t="30px",$(window).scroll(function(){$(this).scrollTop()>250?n===!1&&(n=!0,o.stop().animate({bottom:t},200,"easeInOutQuad")):n&&(n=!1,o.stop().animate({bottom:"-70px"},200,"easeInOutQuad"))}),o.on("click",function(){return scrollAction(0),!1})},toTop(),modalPlan=function(){$("#plan-list .btn-modal a").on("click",function(){var t,o;t=$(this).attr("data-target"),o=function(){var o,n,e,a;n=$(window).width(),o=$(window).height(),e=(n-$(t).outerWidth(!0))/2,a=(o-$(t).outerHeight(!0))/2,$(t).css({left:e+"px",top:a+"px"})},o(),$("body").append("<div class='layer-overlay'></div>"),$(".layer-overlay").css("display","block"),$(t).addClass("open"),nonScrollable(),$(".layer-overlay, .open").off().on("click",function(){$(t).removeClass("open"),$(".layer-overlay").remove(),scrollable()}),$(window).on("resize",function(){return o()})})},modalPlan(),socialCountApi=function(t,o){return $.ajax({url:"https://graph.facebook.com/",dataType:"jsonp",data:{id:t},success:function(t){return $(".facebook-"+o).text(t.shares||0)},error:function(){return $(".facebook-"+o).text("0")}}),RegExp('API廃止により、コメントアウト$.ajaxurl:"http://urls.api.twitter.com/1/urls/count.json?url="+urldataType:"jsonp"data:url:urlsuccess:(res)->$".twitter-'+o+'".textres.count||0error:->$".twitter-'+o+'".text"0"'),$.ajax({url:"http://api.b.st-hatena.com/entry.count?callback=?",dataType:"jsonp",data:{url:t},success:function(t){return $(".hatebu-"+o).text(t||0)},error:function(){return $(".hatebu-"+o).text("0")}})},equalHeight=function(t){$(window).on("load resize",function(){var o,n,e;return e=$(window).width(),o=768,n=0,e>=o?(t.each(function(){var t;return t=$(this).height(),t>n?n=t:void 0}),t.height(n)):t.css("height","auto")})},equalHeight($(".l-plan-equalHeight")),function(t){t(".article-entry").each(function(o){t(this).find("img").each(function(){if(!t(this).parent().hasClass("fancybox")){var o=this.alt;o&&t(this).after('<span class="caption">'+o+"</span>"),t(this).wrap('<a href="'+this.src+'" title="'+o+'" class="fancybox"></a>')}}),t(this).find(".fancybox").each(function(){t(this).attr("rel","article"+o)})}),t.fancybox&&t(".fancybox").fancybox()}(jQuery);